generator client {
  provider        = "prisma-client"
  output          = "../model/generated/prisma"
  previewFeatures = ["typedSql"]
  runtime         = "nodejs"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
  schemas   = ["public"]
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model gamelog {
  id         BigInt                  @id @default(autoincrement())
  event_time DateTime                @db.Timestamptz(6)
  latitude   Decimal                 @db.Decimal
  longitude  Decimal                 @db.Decimal
  action     String
  comment    String?
  geometry   Unsupported("geometry")

  @@index([geometry], map: "idx_gamelog_geom", type: Gist)
  @@index([latitude, longitude, event_time], map: "idx_gamelog_lat_lon_time")
  @@schema("public")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model portal_history {
  id        BigInt                  @id @default(autoincrement())
  type      String?
  latitude  Decimal                 @db.Decimal
  longitude Decimal                 @db.Decimal
  geometry  Unsupported("geometry")

  @@index([geometry], map: "idx_portal_history_geom", type: Gist)
  @@schema("public")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model store_purchases {
  id                      BigInt   @id @default(autoincrement())
  time                    DateTime @db.Timestamptz(6)
  transaction_type        String
  item                    String
  new_cmu_balance         String?
  transaction_description String

  @@schema("public")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model mind_units_controlled {
  id    BigInt   @id @default(autoincrement())
  time  DateTime @db.Timestamptz(6)
  value Decimal  @db.Decimal

  @@schema("public")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model overclock_glyph_hack_points {
  id    BigInt   @id @default(autoincrement())
  time  DateTime @db.Timestamptz(6)
  value Decimal  @db.Decimal

  @@schema("public")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model portal_held_days {
  id    BigInt   @id @default(autoincrement())
  time  DateTime @db.Timestamptz(6)
  value Decimal  @db.Decimal

  @@schema("public")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model xm_recharged {
  id    BigInt   @id @default(autoincrement())
  time  DateTime @db.Timestamptz(6)
  value Decimal  @db.Decimal

  @@schema("public")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model beacon_battles {
  id        BigInt   @id @default(autoincrement())
  time      DateTime @db.Timestamptz(6)
  unique_id BigInt

  @@schema("public")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model anomaly {
  id          String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  lat         Decimal  @db.Decimal
  lon         Decimal  @db.Decimal
  timezone    String
  series_name String
  site        String
  start_time  DateTime @db.Timestamptz(6)
  end_time    DateTime @db.Timestamptz(6)

  @@schema("public")
}

/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model medals {
  id            BigInt   @default(autoincrement())
  attained_at   DateTime @db.Timestamptz(6)
  medal_name    String   @unique
  is_vanity     Boolean
  is_year_badge Boolean

  @@id([id, medal_name])
  @@schema("public")
}
